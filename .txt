-- Full GUI Script with Features Requested
-- Features: Fly (with speed slider), No-clip, Infinite Jump, Spinbot, ESP (Individual Toggles), Moveable GUI

local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local RootPart = Character:WaitForChild("HumanoidRootPart")

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.ResetOnSpawn = false

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 300, 0, 400)
MainFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.Active = true
MainFrame.Draggable = true -- GUI moveable

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Title.Text = "Roblox Executor GUI"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)

-- Fly Toggle
local flying = false
local flySpeed = 50

local FlyToggle = Instance.new("TextButton", MainFrame)
FlyToggle.Size = UDim2.new(1, 0, 0, 30)
FlyToggle.Position = UDim2.new(0, 0, 0, 40)
FlyToggle.Text = "Fly: OFF"
FlyToggle.MouseButton1Click:Connect(function()
    flying = not flying
    FlyToggle.Text = flying and "Fly: ON" or "Fly: OFF"
    if flying then
        local bv = Instance.new("BodyVelocity", RootPart)
        bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
        bv.Velocity = Vector3.new(0, 0, 0)
        while flying do
            bv.Velocity = RootPart.CFrame.LookVector * flySpeed
            wait()
        end
        bv:Destroy()
    end
end)

-- Fly Speed Slider
local SpeedSlider = Instance.new("TextBox", MainFrame)
SpeedSlider.Size = UDim2.new(1, 0, 0, 30)
SpeedSlider.Position = UDim2.new(0, 0, 0, 80)
SpeedSlider.PlaceholderText = "Fly Speed (1-100)"
SpeedSlider.Text = "50"
SpeedSlider.FocusLost:Connect(function()
    local newSpeed = tonumber(SpeedSlider.Text)
    if newSpeed and newSpeed >= 1 and newSpeed <= 100 then
        flySpeed = newSpeed
    end
end)

-- No-Clip Toggle
local noclip = false
local NoclipToggle = Instance.new("TextButton", MainFrame)
NoclipToggle.Size = UDim2.new(1, 0, 0, 30)
NoclipToggle.Position = UDim2.new(0, 0, 0, 120)
NoclipToggle.Text = "No-Clip: OFF"
NoclipToggle.MouseButton1Click:Connect(function()
    noclip = not noclip
    NoclipToggle.Text = noclip and "No-Clip: ON" or "No-Clip: OFF"
end)
RunService.Stepped:Connect(function()
    if noclip then
        for _, v in pairs(Character:GetDescendants()) do
            if v:IsA("BasePart") then
                v.CanCollide = false
            end
        end
    end
end)

-- Infinite Jump
local InfiniteJumpToggle = Instance.new("TextButton", MainFrame)
InfiniteJumpToggle.Size = UDim2.new(1, 0, 0, 30)
InfiniteJumpToggle.Position = UDim2.new(0, 0, 0, 160)
InfiniteJumpToggle.Text = "Infinite Jump: OFF"
local infiniteJump = false
InfiniteJumpToggle.MouseButton1Click:Connect(function()
    infiniteJump = not infiniteJump
    InfiniteJumpToggle.Text = infiniteJump and "Infinite Jump: ON" or "Infinite Jump: OFF"
end)
UserInputService.JumpRequest:Connect(function()
    if infiniteJump then
        Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- Spinbot Toggle
local SpinbotToggle = Instance.new("TextButton", MainFrame)
SpinbotToggle.Size = UDim2.new(1, 0, 0, 30)
SpinbotToggle.Position = UDim2.new(0, 0, 0, 200)
SpinbotToggle.Text = "Spinbot: OFF"
local spinbot = false
SpinbotToggle.MouseButton1Click:Connect(function()
    spinbot = not spinbot
    SpinbotToggle.Text = spinbot and "Spinbot: ON" or "Spinbot: OFF"
end)
RunService.Heartbeat:Connect(function()
    if spinbot then
        RootPart.CFrame = RootPart.CFrame * CFrame.Angles(0, math.rad(10), 0)
    end
end)

-- ESP (Individual Toggles)
local ESPFolder = Instance.new("Folder", game.CoreGui)
ESPFolder.Name = "ESPObjects"

local function createESP(part, color)
    local highlight = Instance.new("Highlight", ESPFolder)
    highlight.Adornee = part
    highlight.FillColor = color
    highlight.FillTransparency = 0.5
    return highlight
end

local ESPEnabled = false
local ESPToggle = Instance.new("TextButton", MainFrame)
ESPToggle.Size = UDim2.new(1, 0, 0, 30)
ESPToggle.Position = UDim2.new(0, 0, 0, 240)
ESPToggle.Text = "ESP: OFF"
ESPToggle.MouseButton1Click:Connect(function()
    ESPEnabled = not ESPEnabled
    ESPToggle.Text = ESPEnabled and "ESP: ON" or "ESP: OFF"
    if not ESPEnabled then
        ESPFolder:ClearAllChildren()
    end
end)
RunService.RenderStepped:Connect(function()
    if ESPEnabled then
        ESPFolder:ClearAllChildren()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                local part = player.Character:FindFirstChild("HumanoidRootPart")
                if part then
                    createESP(part, Color3.fromRGB(255, 0, 0))
                end
            end
        end
    end
end)

print("GUI Loaded Successfully")
