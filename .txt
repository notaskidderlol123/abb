-- Define LocalPlayer
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Create the ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ExternalMenu"
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- Create the main frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 200)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

-- Create the top bar (title bar)
local TopBar = Instance.new("Frame")
TopBar.Size = UDim2.new(1, 0, 0, 30)
TopBar.BackgroundColor3 = Color3.fromRGB(0, 120, 215)
TopBar.BorderSizePixel = 0
TopBar.Parent = MainFrame

-- Title label
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(1, -40, 1, 0)
TitleLabel.Position = UDim2.new(0, 10, 0, 0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "External Menu Example"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize = 16
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
TitleLabel.Parent = TopBar

-- Close button (X)
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -30, 0, 0)
CloseButton.BackgroundTransparency = 1
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 16
CloseButton.Font = Enum.Font.SourceSansBold
CloseButton.Parent = TopBar

-- Create the tab bar (left side)
local TabBar = Instance.new("Frame")
TabBar.Size = UDim2.new(0, 100, 1, -30)
TabBar.Position = UDim2.new(0, 0, 0, 30)
TabBar.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
TabBar.BorderSizePixel = 0
TabBar.Parent = MainFrame

-- Tab buttons
local function createTabButton(name, position, targetFrame)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, 0, 0, 40)
    button.Position = position
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.BorderSizePixel = 0
    button.Text = name
    button.TextColor3 = Color3.fromRGB(200, 200, 200)
    button.TextSize = 16
    button.Font = Enum.Font.SourceSans
    button.Parent = TabBar

    -- Show/hide frame on click
    button.MouseButton1Click:Connect(function()
        for _, child in pairs(MainFrame:GetChildren()) do
            if child:IsA("Frame") and child.Name:find("TabContent") then
                child.Visible = false
            end
        end
        targetFrame.Visible = true
    end)
end

-- Content area
local function createTabContent(name)
    local contentFrame = Instance.new("Frame")
    contentFrame.Name = name .. "TabContent"
    contentFrame.Size = UDim2.new(0, 200, 1, -30)
    contentFrame.Position = UDim2.new(0, 100, 0, 30)
    contentFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    contentFrame.BorderSizePixel = 0
    contentFrame.Visible = false
    contentFrame.Parent = MainFrame
    return contentFrame
end

-- Create tabs and content
local aimbotTab = createTabContent("Aimbot")
local visualsTab = createTabContent("Visuals")
local exploitsTab = createTabContent("Exploits")

-- Create tab buttons
createTabButton("Aimbot", UDim2.new(0, 0, 0, 0), aimbotTab)
createTabButton("Visuals", UDim2.new(0, 0, 0, 40), visualsTab)
createTabButton("Extras", UDim2.new(0, 0, 0, 80), exploitsTab)

-- Make the first tab visible by default
aimbotTab.Visible = true

-- Add "Made By" label at the bottom
local MadeByLabel = Instance.new("TextLabel")
MadeByLabel.Size = UDim2.new(0, 100, 0, 20)
MadeByLabel.Position = UDim2.new(0, 0, 1, -20)
MadeByLabel.BackgroundTransparency = 1
MadeByLabel.Text = "MADE BY NOOBHACKER#9999"
MadeByLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
MadeByLabel.TextSize = 12
MadeByLabel.Font = Enum.Font.SourceSans
MadeByLabel.Parent = TabBar

-- Example content for Aimbot tab (just placeholders)
local aimbotLabel = Instance.new("TextLabel")
aimbotLabel.Size = UDim2.new(1, 0, 0, 30)
aimbotLabel.Position = UDim2.new(0, 0, 0, 0)
aimbotLabel.BackgroundTransparency = 1
aimbotLabel.Text = "--Aimbot--"
aimbotLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
aimbotLabel.TextSize = 16
aimbotLabel.Font = Enum.Font.SourceSansBold
aimbotLabel.Parent = aimbotTab

local function createPlaceholderButton(name, position)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, -10, 0, 30)
    button.Position = position
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.BorderSizePixel = 0
    button.Text = name
    button.TextColor3 = Color3.fromRGB(200, 200, 200)
    button.TextSize = 14
    button.Font = Enum.Font.SourceSans
    button.Parent = aimbotTab
end

createPlaceholderButton("Smoothing Mode", UDim2.new(0, 5, 0, 40))
createPlaceholderButton("Enable FOV", UDim2.new(0, 5, 0, 80))
createPlaceholderButton("Visible Check", UDim2.new(0, 5, 0, 120))
createPlaceholderButton("Team Check", UDim2.new(0, 5, 0, 160))

-- Close button functionality
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)
